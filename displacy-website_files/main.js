"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}{(function(){var defaultText="When Sebastian Thrun started working on self-driving cars at Google in 2007, few people outside of the company took him seriously.\n\n“I can tell you very senior CEOs of major American car companies would shake my hand and turn away because I wasn’t worth talking to,” said Thrun, now the co-founder and CEO of online higher education startup Udacity, in an interview with Recode earlier this week.\n\nA little less than a decade later, dozens of self-driving startups have cropped up while automakers around the world clamor, wallet in hand, to secure their place in the fast-moving world of fully automated transportation.";var defaultEnts=["person","per","org","gpe","loc","product","date","time"];var defaultModel="en_core_web_sm";var loading=function loading(){return document.body.classList.toggle("loading")};var onError=function onError(err){return $("#error").style.display="block"};var updateHTML=function updateHTML(){return $("#html").value='<div class="entities">'+$("#displacy").innerHTML+"</div>"};var displacy=new displaCyENT(api,{container:"#displacy",defaultText:defaultText,defaultModel:defaultModel,defaultEnts:defaultEnts,onStart:loading,onSuccess:loading,onRender:updateHTML,onError:onError});var $=document.querySelector.bind(document);var $$=document.querySelectorAll.bind(document);document.addEventListener("DOMContentLoaded",function(){var text=getQueryVar("text")||defaultText;var model=getQueryVar("model")||defaultModel;var ents=getQueryVar("ents")?getQueryVar("ents").split(","):defaultEnts;if(getQueryVar("text"))updateView(text,model,ents);displacy.parse(text,model,ents);$("#css").value=renderCSS("displacy-ent.css")});var modelSelect=$('[name="model"]');var run=function run(){var text=arguments.length<=0||arguments[0]===undefined?$("#input").value||defaultText:arguments[0];var ents=arguments.length<=1||arguments[1]===undefined?[].concat(_toConsumableArray($$('[name="ents"]:checked'))).map(function(ent){return ent.value}):arguments[1];var model=arguments.length<=2||arguments[2]===undefined?modelSelect.selectedIndex?modelSelect.options[modelSelect.selectedIndex].value:defaultModel:arguments[2];displacy.parse(text,model,ents);updateView(text,model,ents);updateURL(text,model,ents)};$("#submit").addEventListener("click",function(ev){return run()});$("#input").addEventListener("keydown",function(ev){return event.keyCode==13&&run()});var updateView=function updateView(text,model,ents){$("#input").value=text;ents.forEach(function(ent){return $('[value="'+ent+'"]').checked=true});modelSelect.value=model};var updateURL=function updateURL(text,model,ents){var params={text:text,ents:ents,model:model};var url=Object.keys(params).map(function(param){return param+"="+encodeURIComponent(params[param])});history.pushState(params,null,"?"+url.join("&"))};var renderCSS=function renderCSS(filename){var rules=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=document.styleSheets[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var sheet=_step.value;if(sheet.href.indexOf(filename)!=-1){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=sheet.cssRules[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var _rule=_step2.value;rules.push(_rule.cssText)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return rules.join("").replace(/;((?! }))/g,";\n"+"    ").replace(/\{/g,"{\n"+"    ").replace(/\}/g,"\n}\n\n").trim()};var getQueryVar=function getQueryVar(key){var query=window.location.search.substring(1);var params=query.split("&").map(function(param){return param.split("=")});var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=params[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var param=_step3.value;if(param[0]==key)return decodeURIComponent(param[1])}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}return false}})()}
